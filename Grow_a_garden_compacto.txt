local TweenService,Players,ReplicatedStorage,CollectionService=gS("TweenService"),gS("Players"),gS("ReplicatedStorage"),gS("CollectionService")
local LocalPlayer=Players.LocalPlayer
local PlayerGui=LocalPlayer:WaitForChild("PlayerGui",10)
if not PlayerGui then warn("Â¡PlayerGui no encontrado!") return end
local vieja=PlayerGui:FindFirstChild("ToshiroGui")
if vieja then vieja:Destroy() end
local isRunning=true
local translations={
    English={title="Toshiro X",credit="by Toshiro",tabs={"Farm","Shop","Pet","Misc"},farmButton="ðŸŒ¾ Harvest: {state}",sellButton="Sell All",petButton="ðŸ¥š AutoBuy: {state}",shopButton="ðŸŒ± Buy Seeds: {state}",removeFruitsButton="Remove Fruits: {state}",languageButton="Change Language",activateCollection="Activate Collection: {state}"},Spanish={title="Toshiro X",credit="por Toshiro",tabs={"Granja","Tienda","Mascota","Misc"},farmButton="ðŸŒ¾ Cosecha: {state}",sellButton="Vender Todo",petButton="ðŸ¥š AutoCompra: {state}",shopButton="ðŸŒ± Comprar Semillas: {state}",removeFruitsButton="Eliminar Frutas: {state}",languageButton="Cambiar Idioma",activateCollection="Activar RecolecciÃ³n: {state}"}
}
local currentLanguage="English"
local function getTranslatedText(key,state)
    local text=translations[currentLanguage][key] or translations.English[key]
    if state ~=nil then text=text:gsub("{state}",state and "ON" or "OFF") end
    return text
end
local function redondearYbordear(obj)
    local corner=Instance.new("UICorner",obj)
    corner.CornerRadius=UDim.new(0,8)
    local stroke=Instance.new("UIStroke",obj)
    stroke.Thickness,stroke.Color,stroke.Transparency=1,Color3.fromRGB(60,60,60),0.3
end
local function estiloBoton(btn)
    btn.TextColor3,btn.Font,btn.TextSize,btn.BorderSizePixel,btn.BackgroundColor3,btn.ZIndex=Color3.fromRGB(255,255,255),Enum.Font.SourceSans,18,0,Color3.fromRGB(35,35,35),2
    redondearYbordear(btn)
end
local function showNotification(parent,message,color)
    local notification=Instance.new("TextLabel",parent)
    notification.Size,notification.Position,notification.BackgroundColor3=UDim2.new(1,0,0,30),UDim2.new(0,0,0,0),color or Color3.fromRGB(255,50,50)
    notification.Text,notification.TextColor3,notification.TextSize,notification.Font,notification.ZIndex=message,Color3.fromRGB(255,255,255),16,Enum.Font.SourceSans,10
    redondearYbordear(notification)
    task.spawn(function()
        task.wait(3)
        notification:Destroy()
    end)
end
local function updateLanguage()
    title.Text=getTranslatedText("title")
    credit.Text=getTranslatedText("credit")
    for i,name in ipairs(folderNames) do
        navButtons[name].Text=getTranslatedText("tabs")[i]
    end
    for name,folder in pairs(folders) do
        for _,child in ipairs(folder:GetChildren()) do
            if child:IsA("TextButton") then
                local key=({
                    FarmButton="farmButton",ActivateButton="activateCollection",SellButton="sellButton",ShopButton="shopButton",PetButton="petButton",RemoveFruitsButton="removeFruitsButton",LanguageButton="languageButton"
                })[child.Name]
                if key then
                    local state=child.BackgroundColor3==Color3.fromRGB(0,255,0)
                    child.Text=getTranslatedText(key,state)
                    if child.Name=="FarmButton" then
                        child.Text=child.Text .. (folder:FindFirstChild("DropdownFrame") and folder:FindFirstChild("DropdownFrame").Visible and " â–²" or " â–¼")
                    end
                end
            end
        end
    end
end
local gui=Instance.new("ScreenGui",PlayerGui)
gui.Name,gui.ResetOnSpawn="ToshiroGui",false
local frame=Instance.new("Frame",gui)
frame.Size,frame.Position,frame.BackgroundColor3=UDim2.new(0,400,0,300),UDim2.new(0.5,-200,0.35,-150),Color3.fromRGB(30,30,30)
redondearYbordear(frame)
local close=Instance.new("TextButton",gui)
close.Size,close.Position,close.Text,close.BackgroundColor3,close.ZIndex=UDim2.new(0,30,0,30),UDim2.new(1,-35,0,5),"X",Color3.fromRGB(200,50,50),3
estiloBoton(close)
local guiVisible=true
close.MouseButton1Click:Connect(function()
    guiVisible=not guiVisible
    frame.Visible,close.Text=guiVisible,guiVisible and "X" or "â–¶"
end)
local title=Instance.new("TextLabel",frame)
title.Text,title.Font,title.TextSize,title.TextColor3,title.BackgroundTransparency,title.Size=getTranslatedText("title"),Enum.Font.SourceSansBold,24,Color3.fromRGB(255,255,255),1,UDim2.new(1,0,0,40)
local credit=Instance.new("TextLabel",frame)
credit.Text,credit.Font,credit.TextSize,credit.TextColor3,credit.BackgroundTransparency,credit.Position,credit.Size,credit.TextXAlignment=getTranslatedText("credit"),Enum.Font.SourceSans,14,Color3.fromRGB(180,180,180),1,UDim2.new(1,-100,1,-25),UDim2.new(0,100,0,20),Enum.TextXAlignment.Right
local navFrame=Instance.new("Frame",frame)
navFrame.Size,navFrame.Position,navFrame.BackgroundColor3=UDim2.new(0,120,1,-40),UDim2.new(0,0,0,40),Color3.fromRGB(25,25,25)
redondearYbordear(navFrame)
local folderNames={"Farm","Shop","Pet","Misc"}
local folders,navButtons={},{}
for i,name in ipairs(folderNames) do
    local navBtn=Instance.new("TextButton",navFrame)
    navBtn.Text,navBtn.Size,navBtn.Position=getTranslatedText("tabs")[i],UDim2.new(1,0,0,30),UDim2.new(0,0,0,(i-1)*30)
    estiloBoton(navBtn)
    navButtons[name]=navBtn
    local folder=Instance.new("Frame",frame)
    folder.Size,folder.Position,folder.BackgroundColor3,folder.Visible=UDim2.new(0,280,1,-40),UDim2.new(0,120,0,40),Color3.fromRGB(40,40,40),name=="Shop"
    redondearYbordear(folder)
    folders[name]=folder
    navBtn.MouseButton1Click:Connect(function()
        for _,f in pairs(folders) do f.Visible=false end
        for _,b in pairs(navButtons) do b.BackgroundColor3=Color3.fromRGB(35,35,35) end
        folder.Visible,navBtn.BackgroundColor3=true,Color3.fromRGB(50,50,50)
    end)
end
local function setupFarmFolder(fC)
    local active=false
    local fruitButtons={}
    local dropdownVisible=false
    local whitelist={}
    local frutasPersonalizadas={
        "Apple","Avocado","Banana","Bamboo","Beanstalk","Blood Banana","Blueberry","Cactus","Cantaloupe","Celestiberry","Chocolate Carrot","Coconut","Corn","Cacao","Cauliflower","Dragon Fruit","Durian","Feijoa","Grape","Green Apple","Kiwi","Loquat","Mango","Moon Blossom","Moon Mango","Moonflower","Mint","Mushroom","Nectarine","Nectar Thorn","Orange Tulip","Pineapple","Peach","Pear","Pepper","Prickly Pear","Raspberry","Tomato","Watermelon"
    }
    for _,fruitName in ipairs(frutasPersonalizadas) do
        whitelist[fruitName]=false
    end
    local btnFarm=Instance.new("TextButton",fC)
    btnFarm.Name,btnFarm.Size,btnFarm.Position,btnFarm.Text="FarmButton",UDim2.new(1,0,0,30),UDim2.new(0,0,0,10),getTranslatedText("farmButton",false) .. " â–¼"
    estiloBoton(btnFarm)
    local dropdownFrame=Instance.new("ScrollingFrame",fC)
    dropdownFrame.Name,dropdownFrame.Size,dropdownFrame.Position="DropdownFrame",UDim2.new(1,0,0,150),UDim2.new(0,0,0,45)
    dropdownFrame.BackgroundColor3,dropdownFrame.Visible=Color3.fromRGB(40,40,40),false
    dropdownFrame.CanvasSize,dropdownFrame.ScrollBarThickness,dropdownFrame.BorderSizePixel=UDim2.new(0,0,0,0),6,0
    dropdownFrame.ClipsDescendants=true
    redondearYbordear(dropdownFrame)
    local listLayout=Instance.new("UIListLayout",dropdownFrame)
    listLayout.SortOrder=Enum.SortOrder.LayoutOrder
    listLayout.Padding=UDim.new(0,5)
    local btnActivate=Instance.new("TextButton",fC)
    btnActivate.Name,btnActivate.Size,btnActivate.Position,btnActivate.Text="ActivateButton",UDim2.new(1,0,0,30),UDim2.new(0,0,0,200),getTranslatedText("activateCollection",false)
    estiloBoton(btnActivate)
    local function updateFruitList()
        dropdownFrame:ClearAllChildren()
        fruitButtons={}
        listLayout=Instance.new("UIListLayout",dropdownFrame)
        listLayout.SortOrder=Enum.SortOrder.LayoutOrder
        listLayout.Padding=UDim.new(0,5)
        for i,fruitName in ipairs(frutasPersonalizadas) do
            local btn=Instance.new("TextButton",dropdownFrame)
            btn.Size=UDim2.new(1,-10,0,30)
            btn.Text=(whitelist[fruitName] and "[ACTIVO] " or "[DESACT.] ") .. fruitName
            btn.BackgroundColor3=whitelist[fruitName] and Color3.fromRGB(60,120,60) or Color3.fromRGB(40,40,40)
            btn.TextColor3,btn.Font,btn.TextSize,btn.BorderSizePixel=Color3.fromRGB(255,255,255),Enum.Font.SourceSans,14,0
            redondearYbordear(btn)
            btn.ZIndex=5
            fruitButtons[fruitName]=btn
            btn.MouseButton1Click:Connect(function()
                whitelist[fruitName]=not whitelist[fruitName]
                btn.Text=(whitelist[fruitName] and "[ACTIVO] " or "[DESACT.] ") .. fruitName
                btn.BackgroundColor3=whitelist[fruitName] and Color3.fromRGB(60,120,60) or Color3.fromRGB(40,40,40)
            end)
        end
        dropdownFrame.CanvasSize=UDim2.new(0,0,0,#frutasPersonalizadas*35)
    end
    local function autoCollect()
        while active and isRunning do
            local farm=workspace:FindFirstChild("Farm")
            if farm then
                local frutasPorRecolectar={}
                for _,plot in pairs(farm:GetDescendants()) do
                    if plot:IsA("Model") then
                        local name=plot.Name
                        local mutation=plot:GetAttribute("Mutation")
                        local fullName=name .. (mutation and (" | " .. mutation) or "")
                        if whitelist[fullName] then
                            table.insert(frutasPorRecolectar,plot)
                            if #frutasPorRecolectar >=10 then
                                pcall(function()
                                    local Remotes=require(ReplicatedStorage.Modules.Remotes)
                                    Remotes.Crops.Collect.send(frutasPorRecolectar)
                                end,function(err)
                                    warn("Error collecting: " .. tostring(err))
                                end)
                                frutasPorRecolectar={}
                                task.wait(0.2)
                            end
                        end
                    end
                end
                if #frutasPorRecolectar > 0 then
                    pcall(function()
                        local Remotes=require(ReplicatedStorage.Modules.Remotes)
                        Remotes.Crops.Collect.send(frutasPorRecolectar)
                    end,function(err)
                        warn("Error collecting: " .. tostring(err))
                    end)
                end
            end
            task.wait(1)
        end
    end
    btnFarm.MouseButton1Click:Connect(function()
        dropdownVisible=not dropdownVisible
        dropdownFrame.Visible=dropdownVisible
        btnFarm.Text=getTranslatedText("farmButton",false) .. (dropdownVisible and " â–²" or " â–¼")
        if dropdownVisible then updateFruitList() end
    end)
    btnActivate.MouseButton1Click:Connect(function()
        active=not active
        btnActivate.Text,btnActivate.BackgroundColor3=getTranslatedText("activateCollection",active),active and Color3.fromRGB(0,255,0) or Color3.fromRGB(35,35,35)
        if active then task.spawn(autoCollect) end
    end)
    local sellAllButton=Instance.new("TextButton",fC)
    sellAllButton.Name,sellAllButton.Size,sellAllButton.Position,sellAllButton.Text="SellButton",UDim2.new(1,0,0,30),UDim2.new(0,0,0,235),getTranslatedText("sellButton")
    estiloBoton(sellAllButton) 
    sellAllButton.MouseButton1Click:Connect(function()
        local character=LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
        if not character or not character:FindFirstChild("HumanoidRootPart") then
            warn("Personaje no disponible")
            showNotification(fC,"Error: Personaje no disponible",nil)
            return
        end
        local originalPos=character.HumanoidRootPart.CFrame
        local sellPos=Vector3.new(92.85,3.00,6.56)
        local success,errorMsg=pcall(function()
            character.HumanoidRootPart.CFrame=CFrame.new(sellPos)
        end)
        if not success then
            warn("Error al teletransportar: " .. tostring(errorMsg))
            showNotification(fC,"Error: No se pudo teletransportar",nil)
            return
        end
        task.wait(0.1)
        local sellEvent=ReplicatedStorage:WaitForChild("GameEvents"):WaitForChild("Sell_Inventory",5)
        if not sellEvent then
            warn("Evento Sell_Inventory no encontrado")
            showNotification(fC,"Error: Evento de venta no encontrado",nil)
            return
        end
        pcall(function()
            sellEvent:FireServer()
            showNotification(fC,"Inventario vendido",Color3.fromRGB(50,255,50))
        end)
        task.wait(3)
        pcall(function()
            character.HumanoidRootPart.CFrame=originalPos
        end)
    end)
end
local function setupPetFolder(fC)
    local comprar=false
    local btnPet=Instance.new("TextButton",fC)
    btnPet.Name,btnPet.Size,btnPet.Position,btnPet.Text="PetButton",UDim2.new(1,0,0,30),UDim2.new(0,0,0,10),getTranslatedText("petButton",false)
    estiloBoton(btnPet)
    btnPet.MouseButton1Click:Connect(function()
        comprar=not comprar
        btnPet.Text,btnPet.BackgroundColor3=getTranslatedText("petButton",comprar),comprar and Color3.fromRGB(0,255,0) or Color3.fromRGB(35,35,35)
    end)
    task.spawn(function()
        local success,DataService=pcall(function() return require(ReplicatedStorage.Modules.DataService) end)
        if not success then
            warn("Error al cargar DataService")
            showNotification(fC,"Error: No se pudo cargar DataService",nil)
            return
        end
        local BuyEvent=ReplicatedStorage:WaitForChild("GameEvents"):WaitForChild("BuyPetEgg",5)
        if not BuyEvent then
            warn("Evento BuyPetEgg no encontrado")
            showNotification(fC,"Error: Evento BuyPetEgg no encontrado",nil)
            return
        end
        while isRunning and comprar do
            local success,data=pcall(function() return DataService:GetData() end)
            if success and data and data.PetEggStock and data.PetEggStock > 0 then
                pcall(function()
                    BuyEvent:FireServer()
                    showNotification(fC,getTranslatedText("petButton",true):gsub("{state}","Purchased"),Color3.fromRGB(50,255,50))
                end,function(err)
                    warn("Error purchasing pet: " .. tostring(err))
                    showNotification(fC,"Error: No se pudo comprar huevo",nil)
                end)
            else
                showNotification(fC,"Error: No hay stock de huevos o datos no disponibles",nil)
            end
            task.wait(1)
        end
    end)
end
local function setupShopFolder(fC)
    local comprar=false
    local btnShop=Instance.new("TextButton",fC)
    btnShop.Name,btnShop.Size,btnShop.Position,btnShop.Text="ShopButton",UDim2.new(1,0,0,30),UDim2.new(0,0,0,10),getTranslatedText("shopButton",false)
    estiloBoton(btnShop)
    btnShop.MouseButton1Click:Connect(function()
        comprar=not comprar
        btnShop.Text,btnShop.BackgroundColor3=getTranslatedText("shopButton",comprar),comprar and Color3.fromRGB(0,255,0) or Color3.fromRGB(35,35,35)
    end)
    task.spawn(function()
        local success,DataService=pcall(function() return require(ReplicatedStorage.Modules.DataService) end)
        if not success then
            warn("Error al cargar DataService")
            showNotification(fC,"Error: No se pudo cargar DataService",nil)
            return
        end
        local BuyEvent=ReplicatedStorage:WaitForChild("GameEvents"):WaitForChild("BuySeed",5)
        if not BuyEvent then
            warn("Evento BuySeed no encontrado")
            showNotification(fC,"Error: Evento de compra de semillas no encontrado",nil)
            return
        end
        while isRunning and comprar do
            local success,data=pcall(function() return DataService:GetData() end)
            if success and data and data.SeedStock and data.SeedStock > 0 then
                pcall(function()
                    BuyEvent:FireServer("CommonSeed")
                    showNotification(fC,getTranslatedText("shopButton",true):gsub("{state}","Purchased"),Color3.fromRGB(50,255,50))
                end,function(err)
                    warn("Error purchasing seed: " .. tostring(err))
                    showNotification(fC,"Error: No se pudo comprar semilla",nil)
                end)
            else
                showNotification(fC,"Error: No hay stock de semillas o datos no disponibles",nil)
            end
            task.wait(1)
        end
    end)
end
local function setupPetFolder(fC)
local comprar=false
local btnPet=Instance.new("TextButton",fC)
btnPet.Name,btnPet.Size,btnPet.Position,btnPet.Text="PetButton",UDim2.new(1,0,0,30),UDim2.new(0,0,0,10),getTranslatedText("petButton",false)
estiloBoton(btnPet)
btnPet.MouseButton1Click:Connect(function()
comprar=not comprar
btnPet.Text,btnPet.BackgroundColor3=getTranslatedText("petButton",comprar),comprar and Color3.fromRGB(0,255,0) or Color3.fromRGB(35,35,35)
end)
task.spawn(function()
local success,DataService=pcall(function() return require(ReplicatedStorage.Modules.DataService) end)
if not success then warn("Error al cargar DataService") showNotification(fC,"Error: No se pudo cargar DataService",nil) return end
local BuyEvent=ReplicatedStorage.GameEvents:FindFirstChild("BuyPetEgg")
if not BuyEvent then warn("Evento BuyPetEgg no encontrado") showNotification(fC,"Error: Evento BuyPetEgg no encontrado",nil) return end
while isRunning and task.wait(1) do
if comprar then
local success,data=pcall(function() return DataService:GetData() end)
if success and data and data.PetEggStock and data.PetEggStock.Stocks then
for index,egg in ipairs(data.PetEggStock.Stocks) do
if egg.Stock and egg.Stock > 0 then pcall(function() BuyEvent:FireServer(index) end) task.wait(0.5) end
end
else
warn("Error al obtener datos de huevos") showNotification(fC,"Error: No se pudo obtener datos de huevos",nil)
end
end
end
end)
end
local function setupShopFolder(fC)
local BuyEvent=ReplicatedStorage.GameEvents:FindFirstChild("BuySeedStock")
if not BuyEvent then warn("Evento BuySeedStock no encontrado") showNotification(fC,"Error: Evento BuySeedStock no encontrado",nil) return end
local comprarSemillas=false
local btnShop=Instance.new("TextButton",fC)
btnShop.Name,btnShop.Size,btnShop.Position,btnShop.Text="ShopButton",UDim2.new(1,0,0,30),UDim2.new(0,0,0,10),getTranslatedText("shopButton",false)
estiloBoton(btnShop)
btnShop.MouseButton1Click:Connect(function()
comprarSemillas=not comprarSemillas
btnShop.Text,btnShop.BackgroundColor3=getTranslatedText("shopButton",comprarSemillas),comprarSemillas and Color3.fromRGB(0,255,0) or Color3.fromRGB(35,35,35)
end)
task.spawn(function()
local success,SeedData=pcall(function() return require(ReplicatedStorage.Data.SeedData) end)
if not success then warn("Error al cargar SeedData") showNotification(fC,"Error: No se pudo cargar SeedData",nil) return end
local success,UpdateService=pcall(function() return require(ReplicatedStorage.Modules.UpdateService) end)
if not success then warn("Error al cargar UpdateService") showNotification(fC,"Error: No se pudo cargar UpdateService",nil) return end
while isRunning and task.wait(1) do
if comprarSemillas then
for nombre,datos in pairs(SeedData) do
if datos.DisplayInShop and not UpdateService:IsHiddenFromUpdate(datos.SeedName) then pcall(function() BuyEvent:FireServer(nombre) end) task.wait(0.1) end
end
end
end
end)
end
local function setupMiscFolder(fC)
local fruitsVisible=false
local btnRemoveFruits=Instance.new("TextButton",fC)
btnRemoveFruits.Name,btnRemoveFruits.Size,btnRemoveFruits.Position,btnRemoveFruits.Text="RemoveFruitsButton",UDim2.new(1,0,0,30),UDim2.new(0,0,0,10),getTranslatedText("removeFruitsButton",false)
estiloBoton(btnRemoveFruits)
local function setFruitsVisible(state)
for _,folder in ipairs(workspace:GetDescendants()) do
if folder:IsA("Folder") and folder.Name=="Plants_Physical" then
for _,model in ipairs(folder:GetChildren()) do
if model:IsA("Model") then
local fruitsFolder=model:FindFirstChild("Fruits")
if fruitsFolder and fruitsFolder:IsA("Folder") then
for _,obj in ipairs(fruitsFolder:GetDescendants()) do
if obj:IsA("BasePart") then obj.Transparency,obj.CanCollide=state and 1 or 0,not state
elseif obj:IsA("Decal") then obj.Transparency=state and 1 or 0 end
end
end
end
end
end
end
end
btnRemoveFruits.MouseButton1Click:Connect(function()
fruitsVisible=not fruitsVisible
btnRemoveFruits.Text,btnRemoveFruits.BackgroundColor3=getTranslatedText("removeFruitsButton",fruitsVisible),fruitsVisible and Color3.fromRGB(0,255,0) or Color3.fromRGB(35,35,35)
setFruitsVisible(fruitsVisible)
end)
setFruitsVisible(fruitsVisible)
local btnLanguage=Instance.new("TextButton",fC)
btnLanguage.Name,btnLanguage.Size,btnLanguage.Position,btnLanguage.Text="LanguageButton",UDim2.new(1,0,0,30),UDim2.new(0,0,0,45),getTranslatedText("languageButton")
estiloBoton(btnLanguage)
btnLanguage.MouseButton1Click:Connect(function()
currentLanguage=currentLanguage=="English" and "Spanish" or "English"
updateLanguage()
showNotification(fC,"Idioma cambiado a " .. currentLanguage,Color3.fromRGB(50,255,50))
end)
end
setupFarmFolder(fF["Farm"])
setupPetFolder(fF["Pet"])
setupShopFolder(fF["Shop"])
setupMiscFolder(fF["Misc"])
gui.AncestryChanged:Connect(function()
if not gui:IsDescendantOf(game) then isRunning=false end
end)
